const express = require('express');
const app = express();
const port = 3000;
const bodyParser = require('body-parser');

var mysql = require('mysql');
var db = mysql.createConnection({
  host: 'localhost',
  user: 'root',
  password: 'Pw0nZor1!',
  database: 'miniapp'
});

db.connect();

app.use(bodyParser.urlencoded({ extended: false }));
app.use(express.static('public'));
app.use(express.static('compiled'));

app.post('/', (req, res) => {
  if (req.body.name) {
    var params = [req.body.name, req.body.email, req.body.password];
    db.query('INSERT INTO users (username, email, passwords) VALUES (?, ?, ?)', params, (error, data) => {
      if (error) {
        res.send(error);
      } else {
        console.log(data);
      }
    });
  }
  // } else if (req.body.city) {
  //   console.log(req.body);
  //   var params = []
  // }
});

app.listen(port, () => {
  console.log(`Listening at http://localhost:${port}`);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsInBvcnQiLCJib2R5UGFyc2VyIiwibXlzcWwiLCJkYiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJjb25uZWN0IiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicG9zdCIsInJlcSIsInJlcyIsImJvZHkiLCJuYW1lIiwicGFyYW1zIiwiZW1haWwiLCJxdWVyeSIsImVycm9yIiwiZGF0YSIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxVQUFVQyxRQUFRLFNBQVIsQ0FBaEI7QUFDQSxNQUFNQyxNQUFNRixTQUFaO0FBQ0EsTUFBTUcsT0FBTyxJQUFiO0FBQ0EsTUFBTUMsYUFBYUgsUUFBUSxhQUFSLENBQW5COztBQUdBLElBQUlJLFFBQVFKLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUssS0FBS0QsTUFBTUUsZ0JBQU4sQ0FBdUI7QUFDOUJDLFFBQU0sV0FEd0I7QUFFOUJDLFFBQU0sTUFGd0I7QUFHOUJDLFlBQVUsV0FIb0I7QUFJOUJDLFlBQVU7QUFKb0IsQ0FBdkIsQ0FBVDs7QUFPQUwsR0FBR00sT0FBSDs7QUFFQVYsSUFBSVcsR0FBSixDQUFRVCxXQUFXVSxVQUFYLENBQXNCLEVBQUNDLFVBQVUsS0FBWCxFQUF0QixDQUFSO0FBQ0FiLElBQUlXLEdBQUosQ0FBUWIsUUFBUWdCLE1BQVIsQ0FBZSxRQUFmLENBQVI7QUFDQWQsSUFBSVcsR0FBSixDQUFRYixRQUFRZ0IsTUFBUixDQUFlLFVBQWYsQ0FBUjs7QUFFQWQsSUFBSWUsSUFBSixDQUFTLEdBQVQsRUFBYyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQixNQUFHRCxJQUFJRSxJQUFKLENBQVNDLElBQVosRUFBa0I7QUFDaEIsUUFBSUMsU0FBUyxDQUFDSixJQUFJRSxJQUFKLENBQVNDLElBQVYsRUFBZ0JILElBQUlFLElBQUosQ0FBU0csS0FBekIsRUFBZ0NMLElBQUlFLElBQUosQ0FBU1YsUUFBekMsQ0FBYjtBQUNBSixPQUFHa0IsS0FBSCxDQUFTLGlFQUFULEVBQTRFRixNQUE1RSxFQUFxRixDQUFDRyxLQUFELEVBQVFDLElBQVIsS0FBaUI7QUFDcEcsVUFBR0QsS0FBSCxFQUFVO0FBQ1JOLFlBQUlRLElBQUosQ0FBU0YsS0FBVDtBQUNELE9BRkQsTUFFTztBQUNMRyxnQkFBUUMsR0FBUixDQUFZSCxJQUFaO0FBQ0Q7QUFDRixLQU5EO0FBT0Q7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNELENBZkQ7O0FBa0JBeEIsSUFBSTRCLE1BQUosQ0FBVzNCLElBQVgsRUFBaUIsTUFBTTtBQUNyQnlCLFVBQVFDLEdBQVIsQ0FBYSxpQ0FBZ0MxQixJQUFLLEVBQWxEO0FBQ0QsQ0FGRCIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuY29uc3QgcG9ydCA9IDMwMDA7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcblxuXG52YXIgbXlzcWwgPSByZXF1aXJlKCdteXNxbCcpXG52YXIgZGIgPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gIHVzZXI6ICdyb290JyxcbiAgcGFzc3dvcmQ6ICdQdzBuWm9yMSEnLFxuICBkYXRhYmFzZTogJ21pbmlhcHAnXG59KVxuXG5kYi5jb25uZWN0KClcblxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiBmYWxzZX0pKVxuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYygnY29tcGlsZWQnKSlcblxuYXBwLnBvc3QoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgaWYocmVxLmJvZHkubmFtZSkge1xuICAgIHZhciBwYXJhbXMgPSBbcmVxLmJvZHkubmFtZSwgcmVxLmJvZHkuZW1haWwsIHJlcS5ib2R5LnBhc3N3b3JkXTtcbiAgICBkYi5xdWVyeSgnSU5TRVJUIElOVE8gdXNlcnMgKHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmRzKSBWQUxVRVMgKD8sID8sID8pJywgcGFyYW1zICwgKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgICBpZihlcnJvcikge1xuICAgICAgICByZXMuc2VuZChlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8vIH0gZWxzZSBpZiAocmVxLmJvZHkuY2l0eSkge1xuICAvLyAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgLy8gICB2YXIgcGFyYW1zID0gW11cbiAgLy8gfVxufSlcblxuXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgY29uc29sZS5sb2coYExpc3RlbmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKVxufSk7XG5cblxuXG5cblxuXG5cblxuXG4iXX0=